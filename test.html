<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>MangoHome Try</title>
    <link rel="stylesheet"  href="css/init.css"/>
      <link rel="stylesheet" href="css/style.css">
      <link rel="stylesheet" href="css/test.css" />
  </head>
  <body id="body" class="body">
    <div id="page" class="page">

      <div class="main"  v-show="!isSetTimer">
        <mt-tab-container v-model="selected">
          <!-- color -->
          <mt-tab-container-item id="color">
            <!--开关-->
            <div class="btn-switch" id="btn-switch">
              <img class="btn-img" src="images/try/btn_true.png" v-show="btn_switch" @click="btnSwitch(true)"/>
              <img class="btn-img" src="images/try/btn_false.png" v-show="!btn_switch" @click="btnSwitch(false)"/>
            </div>
            <div class="block color-main">
              <p class="title page-title">Color</p>
              <!-- <img class="color" style="border:1px solid #FEB101;" src="images/try/color.png"/> -->
              <canvas id="colorCanvas" class="canvas" width="420px" height="420px"></canvas>
              
            </div>
            <div class="current-color">
              <p>Current</p> 
              <p class="current-color-bg" v-bind:style="{ 'background-color': currentColor.color}"></p><br />
              <p class="current-color-txt" @click="saveColor('color')">save</p>
            </div>
            <div >
              <table width="100%">
                <tr>
                  <td width="10%">Bright</td>
                  <td width="70%">
                    <mt-range class="range" v-model="rangeBright" @change="brightChange">
                    </mt-range>
                  </td>
                  <td width="10%">
                    <img class="icon" src="images/try/icon_light.png" />
                  </td>
                </tr>
                
                <tr>
                  <td width="10%">Normal</td>
                  <td width="90%">
                    <p class="normal" 
                      v-for="(item,index) in normal"  
                      v-bind:style="[{'background-color': item.color},{'color':item.color}]"
                      @click="normalColor(index)"
                      >
                    </p>
                  </td>
                </tr>
                
                <tr>
                  <td width="10%">DIY</td>
                  <td width="90%">
                    <p class="normal" 
                      v-for="(item,index) in color_diy"  
                      v-bind:style="[{'background-color': item.color},{'color':item.color}]"
                      @click="colorDiyClick(index)"
                      >
                    </p>
                  </td>
                </tr>
              </table>
            </div>
          </mt-tab-container-item>
          <!-- mode -->
          <mt-tab-container-item id="mode">
            <!--开关-->
            <div class="btn-switch" id="btn-switch">
              <img class="btn-img" src="images/try/btn_true.png" v-show="btn_switch" @click="btnSwitch(true)"/>
              <img class="btn-img" src="images/try/btn_false.png" v-show="!btn_switch" @click="btnSwitch(false)"/>
            </div>
            <div id="custom-current-color" class="current-color" hidden="hidden">
              <p>Current</p>
              <p class="current-color-bg" v-bind:style="{ 'background-color': currentColor.color}"></p><br />
              <p class="current-color-txt" @click="saveColor('custom')">save</p>
            </div>
            <div class="tab-title page-title">
                  <span id="tab-title-classic" class="tab-title-left-true" @click="tabTitle('classic')">&nbsp;&nbsp;&nbsp;Classic</span><span id="tab-title-custom" class="tab-title-right-flase" @click="tabTitle('custom')">Customize</span>
            </div>
            <div class="classic" id="classic">
              <div class="color-picker">
                 <mt-picker :slots="color_picker" @change="pickerModeChange"></mt-picker>
              </div>
              <div >
                <table width="100%">
                  <tr>
                    <td width="10%">Bright</td>
                    <td width="70%">
                      <mt-range class="range" v-model="rangeBright" @change="brightChange">
                      </mt-range>
                    </td>
                    <td width="10%">
                      <img class="icon" src="images/try/icon_light.png" />
                    </td>
                  </tr>
                
                  <tr>
                    <td width="10%">Speed</td>
                    <td width="70%">
                      <mt-range class="range" v-model="rangeSpeed" @change="speedChange">
                      </mt-range>
                    </td>
                    <td width="10%">
                      <img class="icon" src="images/try/icon_speed.png" />
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <div  class="custom" id="custom" hidden="hidden">
              <div class="block color-main"> 
                  <canvas id="customCanvas" class="canvas" width="420px" height="420px"></canvas>
              </div>
                  <table width="100%">
                    <tr>
                      <td width="10%">Favorites</td>
                      <td width="90%">
                        <p class="normal" 
                          v-for="(item,index) in color_custom"  
                          v-bind:style="[{'background-color': item.color},{'color':item.color}]">
                        </p>
                      </td>
                    </tr>
                    
                    <tr>
                      <td width="10%">Mode</td>
                      <td width="70%">
                        <span class="change-mode change-mode-left change-mode-true" @click="changeMode('jump')">Jumping</span><span @click="changeMode('breath')" class="change-mode change-mode-false">Breathing</span><span @click="changeMode('falsh')" class="change-mode change-mode-right change-mode-false">Flashing</span>
                      </td>
                      <td width="10%">
                        
                      </td>
                    </tr>
                    
                    <tr>
                      <td width="10%">Bright</td>
                      <td width="70%">
                        <mt-range class="range" v-model="rangeBright" @change="brightChange">
                        </mt-range>
                      </td>
                      <td width="10%">
                        <img class="icon" src="images/try/icon_light.png" />
                      </td>
                    </tr>
                    
                    <tr>
                      <td width="10%">Speed</td>
                      <td width="70%">
                        <mt-range class="range"  v-model="rangeSpeed" @change="speedChange">
                        </mt-range>
                      </td>
                      <td width="10%">
                        <img class="icon" src="images/try/icon_speed.png" />
                      </td>
                    </tr>
                  </table>
                  
              </div>
          </mt-tab-container-item>
          <!-- music -->
          <mt-tab-container-item id="music">
            <div class="tab-title page-title">
                  <span id="tab-title-music" class="tab-title-left-true " @click="tabTitle('music')">Music</span><span id="tab-title-mic" class="tab-title-right-flase" @click="tabTitle('mic')">Mic&nbsp;&nbsp;&nbsp;&nbsp;</span>
              </div>
              <div class="music-main" id="music-main">
                <div class="disk">
                  <img  class="img-disk" src="images/try/disk.png"/>
                </div>
                <div class="music-control">
                  <img class="music-control-item" src="images/try/play_pre.png"   @click="musicChange('pre')"/>
                  <img class="music-control-item" src="images/try/play_start.png" @click="musicChange('stop')" v-show="musicIsPlay" />
                  <img class="music-control-item" src="images/try/play_stop.png"  @click="musicChange('start')" v-show="!musicIsPlay" />
                  <img class="music-control-item" src="images/try/play_next.png"  @click="musicChange('next')"/>
                </div>
              </div>
              <div class="mic-main" id="mic-main" hidden="hidden">
                <div class="disk">
                  <img  class="img-disk" id="wave" src="images/try/wave.png"/>
                </div>
                <div class="music-control">
                  <img class="music-control-item" src="images/try/play_start.png" @click="micChange(true)" v-show="micIsPlay" />
                  <img class="music-control-item" src="images/try/play_stop.png"  @click="micChange(false)" v-show="!micIsPlay" />
                </div>
              </div>
              <div class="music-picker">
                <mt-picker :slots="music_picker" @change="musicModeChange"></mt-picker>
              </div>
          </mt-tab-container-item>
          <!-- timer -->
          <mt-tab-container-item id="timer">
            <table class="table" width="100%">
              <tr class="line">
                <td>My Timer</td>
              </tr>
              <tr>
                <td class="time" width="20%" v-show="timer.isSingle">{{timer.currentDate}} {{timer.currentHour}}</td>
                <td class="time" width="20%" v-show="!timer.isSingle">{{timer.currentHour}}</td>
                <td class="set-timer" width="60%" @click="setTimer(true)">
                  <span>789</span> /
                  <span>13</span> /
                  <span>3445</span>
                </td>
                <td class="set-timer-switch" width="20%">
                  <mt-switch  ></mt-switch>
                </td>
              </tr>
            </table>
            <div class="line"></div>
          </mt-tab-container-item>
        </mt-tab-container>
      </div>
        
      <div class="footer" v-show="!isSetTimer">
        <mt-tabbar v-model="selected">
          <mt-tab-item id="color">
            <img slot="icon" src="images/try/tab_color_true.png">
            Color
          </mt-tab-item>
          <mt-tab-item id="mode">
            <img slot="icon" src="images/try/tab_mode_false.png">
            Mode
          </mt-tab-item>
          <mt-tab-item id="music">
            <img slot="icon" src="images/try/tab_music_false.png">
            Music
          </mt-tab-item>
          <mt-tab-item id="timer">
            <img slot="icon" src="images/try/tab_timer_false.png">
            Timer
          </mt-tab-item>
        </mt-tabbar>
      </div>
       
      <div class="set-timer" v-show="isSetTimer">
        <div class="timer-header">
          <table width="100%">
            <tr>
              <td width="10%">
                <img class="timer-back"  src="images/try/back.png" @click="setTimer(false)"/>
              </td>
              <td width="80%" style="text-align: center;">
                <span class="timer-title">Modify the timer</span>
              </td>
              <td width="8%">
                <span class="timer-ok">OK</span>
              </td>
            </tr>
          </table>
        </div>
        <div class="timer-body">
          <table width="100%">
            <!--Current time-->
            <tr class="tab-tr">
              <td width="25">
                <span>Current time</span>
              </td>
              <td width="75%">
                <span>123</span>
              </td>
            </tr>
            <!--Timing time-->
            <tr class="tab-tr">
              <td width="25%" >
                <span>Timing time</span>
              </td>
              <td width="75%">
                <span>123</span>
                <mt-datetime-picker ref="picker" cancel-text="Cancel" confirm-text = "Confirm" type="time" @confirm="ensure"></mt-datetime-picker>
                
                <span >234</span>
                <mt-datetime-picker ref="pickerSingle" cancel-text="Cancel" confirm-text = "Confirm" type="datetime"  @confirm="ensureSingle"></mt-datetime-picker>

              </td>
            </tr>
            <!--Repeat-->
            <tr class="tab-tr">
              <td width="25%">
                <span>Repeat</span>
              </td>
              <td width="75%">
                <span class="repeat_btn_false" @click="setTimerDate('Single')" >Single</span>
                <span class="repeat_btn_false" @click="setTimerDate('Daily')" >Daily</span>
              </td>
            </tr>
            <!--Weekly-->
            <tr class="tab-tr">
              <td width="25%">
                <span>Weekly</span>
              </td>
              <td width="75%">
                <span class="weekly_btn_false" @click="setTimerDate('Mon')">Mon</span>
                <span class="weekly_btn_false" @click="setTimerDate('Tue')">Tue</span>
                <span class="weekly_btn_false" @click="setTimerDate('Wed')">Wed</span>
                <span class="weekly_btn_false" @click="setTimerDate('Thu')">Thu</span>
                <span class="weekly_btn_false" @click="setTimerDate('Fri')">Fri</span>
                <span class="weekly_btn_false" @click="setTimerDate('Sat')">Sat</span>
                <span class="weekly_btn_false" @click="setTimerDate('Sun')">Sun</span>
              </td>
            </tr>
            <!--action-->
            <tr >
              <td width="25%">
                <span>Action</span>
              </td>
              <td width="75%">
                <img class="timer-btn-switch" src="images/try/btn_false.png"  />
                <img class="timer-btn-switch" src="images/try/btn_true.png"  />
                <span>Power on/off</span>
              </td>
            </tr>
            <!--Mode-->
            <tr >
              <td width="25%">
                <span>Mode</span>
              </td>
              <td width="75%">
                <mt-picker :slots="color_picker" ></mt-picker>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>

    <script src="js/getcanvaspixelcolor.js"></script>
    <script src="js/vue.js"></script>
    <script src="js/mint-ui-index.js"></script>
    <script type="text/javascript" src="js/test.js"></script>

    <script>
      function drawCanvas(id,path){
      var c = document.getElementById(id);
          var cxt = c.getContext("2d");
          var img = new Image();
          img.src = path;
          img.onload = function(){
            cxt.drawImage(img,0,0);
          }
      }
      drawCanvas("colorCanvas","images/try/color.png");
      drawCanvas("customCanvas","images/try/color.png");
     
   </script>

  </body>
  
  
    
</html>
