<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>MangoHome Try</title>
    <link rel="stylesheet"  href="init.css"/>
    <link rel="stylesheet" href="css/style.css">
    <style type="text/css">
      .bg{
        margin: 10px;
        display:block;
        width: 30px;
        height: 30px;
        border: 1px solid #AAAAAA;
        border-radius: 15px;

      }
      .color{
        width: 10%;
        height: 10%;
      }
    </style>

  </head>
  
  <body id="body">
      <div id="page" class="page" style="margin-top:8px; text-align: center;">
        <!-- <img class="color" src="images/try/color.png"> -->
        <canvas id="myCanvas" width="420px" height="420px" onclick="getColor(event)"></canvas>
        
        <span id="bg" >as</span>
        
      </div>
  </body>
    <!-- 先引入 Vue -->
    <script src="js/vue.js"></script>
    <!-- 引入组件库 -->
    <script src="js/mint-ui-index.js"></script>
    <script type="text/javascript" src="js/getcanvaspixelcolor.js"></script>
    <script>

      var c=document.getElementById("myCanvas");
      var cxt=c.getContext("2d");
      var img=new Image();
      img.src="images/try/color.png";
      cxt.drawImage(img,0,0);
      // canvas = $("#canvas");
      console.log(c);

      function getColor(e){
        // console.log( "e.pageX=" + e.pageX + "-->" + "e.pageY=" + e.pageY);
        // console.log( "canvasOffsetX=" + c.offsetLeft + "-->" + "canvasOffsetY=" + c.offsetTop);

        var canvasX = Math.floor(e.pageX - c.offsetLeft);
        var canvasY = Math.floor(e.pageY - c.offsetTop);
        // console.log( "canvasX=" + canvasX + "-->" + "canvasY=" + canvasY);

        var colorData = document.getElementById("myCanvas").getPixelColor(canvasX, canvasY);
        console.log(colorData);

        var bg = document.getElementById("bg");
        bg.style.backgroundColor = colorData.hex;
        console.log(bg);
      }

      // new Vue({
      //   el:'#page',
      //   data:{

      //   },
      //   mothods:{
      //     console.log(1);
      //   }
      // })


      
    </script>

    
</html>
